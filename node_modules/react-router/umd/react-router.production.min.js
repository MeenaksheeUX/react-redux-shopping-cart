"use strict";!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("history")):"function"==typeof define&&define.amd?define(["exports","react","history"],t):t((e=e||self).ReactRouter={},e.React,e.HistoryLibrary)}(this,(function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function u(e,t){if(!e)throw Error(t)}function o(e){var n=e.children;n=void 0===n?null:n;var r=e.history,o=void 0===(e=e.timeout)?2e3:e,i=t.useState(r.location);e=i[0];var a=i[1],c=(o=R({timeoutMs:o}))[0];return o=o[1],i=t.useRef(!1),t.useContext(g).history&&u(!1),i.current||(i.current=!0,r.listen((function(e){var t=e.location;c((function(){a(t)}))}))),t.createElement(g.Provider,{children:n,value:{history:r,location:e,pending:o}})}function i(e){var n=[];return t.Children.forEach(e,(function(e){if(t.isValidElement(e)){var r=e.props,u=r.children,o=r.from,a=r.path;r=r.to,e.type===t.Fragment?n.push.apply(n,i(u)):(a=a||o||"/",r?e={path:a,redirectTo:r}:(e={path:a,element:e},(u=i(u)).length&&(e.children=u)),n.push(e))}})),n}function a(){return t.useContext(g).location}function c(){var e=t.useContext(g),n=e.history,r=e.pending,o=t.useContext(x).pathname;return null==n&&u(!1),t.useCallback((function(e,t){var u=void 0===t?{}:t;t=u.replace,u=u.state,"number"==typeof e?n.go(e):(e=m(e,o),n[t||r?"replace":"push"](e,u))}),[n,r,o])}function l(){return t.useContext(x).outlet}function s(e){var n=t.useContext(x).pathname;return t.useMemo((function(){return m(e,n)}),[e,n])}function f(e,n,u){void 0===n&&(n=""),void 0===u&&(u=!1);var o=a(),i=c(),l=t.useContext(x),s=l.params,f=l.pathname;if(n=n?b([f,n]):f,!(l=t.useMemo((function(){return h(e,o,n,u)}),[e,o,n,u])))return null;var p=l.find((function(e){return null!=e.route.redirectTo}));return p?(l=p.params,p=(f=m(p.route.redirectTo,f)).pathname,/:\w+/.test(p)&&(f=r({},f,{pathname:y(p,l)})),i(f,{replace:!0}),null):l.reduceRight((function(e,u){var o=u.pathname,i=u.route;return t.createElement(x.Provider,{children:i.element,value:{outlet:e,params:r({},s,{},u.params),pathname:b([n,o]),route:i}})}),null)}function h(e,t,r,u){void 0===r&&(r=""),void 0===u&&(u=!1),"string"==typeof t&&(t=n.parsePath(t)),r=r.replace(/^\/+|\/+$/g,"");var o=t.pathname.slice(1);if(r)if(r===o)o="";else{if(!o.startsWith(r))return null;o=o.slice(r.length).replace(/^\/+/,"")}var i=function e(t,n,r,u,o){return void 0===n&&(n=[]),void 0===r&&(r=""),void 0===u&&(u=[]),void 0===o&&(o=[]),t.forEach((function(t,i){var a=b([r,t.path]),c=u.concat(t);i=o.concat(i),n.push([a,c,i]),t.children&&e(t.children,n,a,c,i)})),n}(e);for(function(e){var t=e.reduce((function(e,t){return e[t=t[0]]=function(e){return e.split("/").reduce((function(e,t){return e+(E.test(t)?2:"*"===t?-1:10)}),0)}(t),e}),{});e.sort((function(e,n){var r=e[2];e=t[e[0]];var u=n[2];return e!==(n=t[n[0]])?n-e:function(e,t){return e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}))?e[e.length-1]-t[t.length-1]:0}(r,u)}))}(i),e=function(e){var t=(e=i[e])[1];if(p(e[0],!0,u)[0].test(o))return{v:t.map((function(e,n){n=t.slice(0,n+1);var r=p(n=b(n.map((function(e){return e.path}))),!1,u);return{params:v(n=r[1],(r=o.match(r[0])).slice(2)),pathname:"/"+r[1],route:e}}))}},t=0;t<i.length;++t)if("object"==typeof(r=e(t)))return r.v;return null}function p(e,t,n){var r=[],u="^("+e.replace(/^\/+/,"").replace(/\*\//,"").replace(/\/?\*?$/,"").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}))+")";return e.endsWith("*")?(e.endsWith("/*")&&(u+="\\/?"),r.push("*"),u+="(.*)"):t&&(u+="\\/?"),t&&(u+="$"),[new RegExp(u,n?void 0:"i"),r]}function v(e,t){return e.reduce((function(e,n,r){return e[n]=t[r],e}),{})}function d(e,t){var n=t.replace(/\/+$/,"").replace(/\/\/+/g,"/").split("/");return e.replace(/\/\/+/g,"/").split("/").forEach((function(e){".."===e?1<n.length&&n.pop():"."!==e&&n.push(e)})),1<n.length?b(n):"/"}function m(e,t){void 0===t&&(t="/");var r="string"==typeof e?n.parsePath(e):e;e=r.pathname;var u=r.search;return u=void 0===u?"":u,r=void 0===(r=r.hash)?"":r,{pathname:e?e.startsWith("/")?d(e,"/"):d(e,t):t,search:u,hash:r}}function y(e,t){return void 0===t&&(t={}),e.replace(/:(\w+)/g,(function(e,n){return t[n]||":"+n})).replace(/\*$/,(function(e){return t[e]||e}))}var g=(t=t&&t.hasOwnProperty("default")?t.default:t).createContext({history:null,location:{pathname:"/",search:"",hash:""},pending:!1}),x=t.createContext({outlet:null,params:{},pathname:"",route:null}),C=function(e){return e()},R=t.useTransition||function(){return[C,!1]},E=/^:\w+$/,b=function(e){return e.join("/").replace(/\/\/+/g,"/")};e.MemoryRouter=function(e){var r=e.children,u=e.initialEntries,i=e.initialIndex;e=e.timeout;var a=t.useRef(null);return null==a.current&&(a.current=n.createMemoryHistory({initialEntries:u,initialIndex:i})),t.createElement(o,{children:r,history:a.current,timeout:e})},e.Navigate=function(e){var t=e.to,n=e.replace;return n=void 0!==n&&n,e=e.state,c()(t,{replace:n,state:e}),null},e.Outlet=function(){return l()},e.Redirect=function(){return null},e.Route=function(e){return e.element},e.Router=o,e.Routes=function(e){var n=e.basename;n=void 0===n?"":n;var r=e.caseSensitive;return r=void 0!==r&&r,e=e.children,t.useContext(x),f(e=i(e),n,r)},e.createRoutesFromChildren=i,e.generatePath=y,e.matchRoutes=h,e.resolveLocation=m,e.useBlocker=function(e,n){void 0===n&&(n=!0);var o=t.useContext(g).history;null==o&&u(!1),t.useEffect((function(){if(n){var t=o.block((function(n){var u=r({},n,{retry:function(){t(),n.retry()}});e(u)}));return t}}),[o,n,e])},e.useHref=function(e){e=s(e);var n=t.useContext(g).history;return null==n&&u(!1),n.createHref(e)},e.useLocation=a,e.useMatch=function(e){var t=a();return e=s(e),t.pathname===e.pathname},e.useNavigate=c,e.useOutlet=l,e.useParams=function(){return t.useContext(x).params},e.useResolvedLocation=s,e.useRoutes=f,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=react-router.production.min.js.map
